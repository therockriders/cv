<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>MailTest</title>
 
    <link rel="stylesheet" href="../lib/qunit-1.10.0.css" />
    <script src="../lib/qunit-1.10.0.js"></script>
	<script src="../../jquery.min.js"></script>
	<script src="../../lib/model/mail.js"></script>
	<script type="text/javascript" src="../../../../therockriders/js/lib/utils/feedback/feedbackMessage.js"></script>
	<script type="text/javascript" src="../../../../therockriders/js/lib/utils/feedback/feedbackMessagesManager.js"></script>
	<script type="text/javascript" src="../../../../therockriders/js/lib/utils/stringUtils.js"></script>
 	<script type="text/javascript" src="../../../../therockriders/js/lib/utils/validation.js"></script>
 
    <script>
	test("testIsValid", function() {
		var o = new Mail(null, "Title 1", "Content 1", "Name 1", "juju@gmail.com", "roro@hotmail.com");
		strictEqual(o.isValid(), true);
		
		// Empty title
		o.title = "";
		strictEqual(o.isValid(), false);
		
		// Empty content
		o.title = "title 1";
		o.content = "";
		strictEqual(o.isValid(), false);
		
		// Empty name
		o.content = "content 1";
		o.name = "";
		strictEqual(o.isValid(), false);
		
		// Empty src email
		o.name = "name 1";
		o.srcEmail = "";
		strictEqual(o.isValid(), false);
		
		// Empty dest email
		o.srcEmail = "src email";
		o.destEmail = "";
		strictEqual(o.isValid(), false);
		
		// Empty mail
		var o2 = new Mail();
		strictEqual(o2.isValid(), false);
		strictEqual(o2.fmm.messages.length, 5);
		
		// Invalid src email
		o.destEmail = "juju@gmail.com";
		strictEqual(o.isValid(), false);
		
		// Invalid dest email
		o.srcEmail = "roro@gmail.com";
		o.destEmail = "Cool";
		strictEqual(o.isValid(), false);
	});
	
    </script>
</head>
<body>
    <div id="qunit"></div>
</body>
</html>

